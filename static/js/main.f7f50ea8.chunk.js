(this.webpackJsonptodolist=this.webpackJsonptodolist||[]).push([[0],{16:function(t,e,n){},29:function(t,e,n){t.exports=n(59)},34:function(t,e,n){},35:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),r=n(9),i=n.n(r),c=(n(34),n(2)),s=n(10),l=n(4),d=n(3),u=(n(16),n(1)),p=(n(35),function(t){var e=t.small?"small":"";return o.a.createElement("button",{className:"button + ".concat(t.type," + ").concat(e),onClick:t.onClick}," ",t.btnName)}),f=(n(8),function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,title:t.props.task.title},t.onIsDoneChanged=function(e){var n=e.currentTarget.checked?2:0;t.props.changeStatus(t.props.task.id,n)},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.activateEditMode=function(e){t.setState({editMode:!0})},t.deactivateEditMode=function(e){t.props.changeTitle(t.props.task.id,t.state.title),t.setState({editMode:!1})},t.onDeleteTask=function(){t.props.deleteTask(t.props.task.id)},t.onPriorityChange=function(e){t.props.changePriority(t.props.task.id,+e.currentTarget.value)},t.render=function(){var e=t.props.task.status?" done":"";switch(t.props.task.priority){case 0:"Low";break;case 1:"Middle";break;case 2:"High";break;case 3:"Urgently";break;case 4:"Later"}return o.a.createElement("div",{className:"todoList-task"},o.a.createElement("div",{className:e},o.a.createElement("input",{className:"checkBox",type:"checkbox",checked:2===t.props.task.status,onChange:t.onIsDoneChanged}),t.state.editMode?o.a.createElement("input",{onBlur:t.deactivateEditMode,onChange:t.onTitleChanged,autoFocus:!0,value:t.state.title}):o.a.createElement("span",{onClick:t.activateEditMode},t.props.task.title),", ",o.a.createElement("b",null,"priority:"),o.a.createElement("select",{className:"select",value:t.props.task.priority,onChange:t.onPriorityChange},o.a.createElement("option",{value:"2"},"High"),o.a.createElement("option",{value:"1"},"Middle"),o.a.createElement("option",{value:"0"},"Low"))),o.a.createElement(p,{type:"delete",onClick:t.onDeleteTask,btnName:"x"}))},t}return n}(o.a.Component)),m=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).render=function(){var e=t.props.tasks.map((function(e){return o.a.createElement(f,{task:e,changeStatus:t.props.changeStatus,changeTitle:t.props.changeTitle,changePriority:t.props.changePriority,key:e.id,deleteTask:t.props.deleteTask})}));return o.a.createElement("div",{className:"todoList-tasks"},0===t.props.tasks.length?o.a.createElement("div",null,"Loading..."):e)},t}return n}(o.a.Component),T=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={isHidden:!1},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onShowFiltersClick=function(e){t.setState({isHidden:!0})},t.onHideFiltersClick=function(e){t.setState({isHidden:!1})},t.render=function(){var e="All"===t.props.filterValue?"filter-active":"",n="Completed"===t.props.filterValue?"filter-active":"",a="Active"===t.props.filterValue?"filter-active":"";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"todoList-footer-btn"},!t.state.isHidden&&o.a.createElement(o.a.Fragment,null,o.a.createElement(p,{type:"primary + ".concat(e),small:!0,onClick:t.onAllFilterClick,btnName:"All"}),o.a.createElement(p,{type:"primary + ".concat(n),small:!0,onClick:t.onCompletedFilterClick,btnName:"Completed"}),o.a.createElement(p,{type:"primary + ".concat(a),small:!0,onClick:t.onActiveFilterClick,btnName:"Active"}))),o.a.createElement("div",{className:"todoList-footer-filter"},!t.state.isHidden&&o.a.createElement("span",{onClick:t.onShowFiltersClick},"Hide filter "),t.state.isHidden&&o.a.createElement("span",{onClick:t.onHideFiltersClick},"Show filter ")))},t}return n}(o.a.Component),h=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={editMode:!1,title:""},t.onDelete=function(){t.props.deleteTodolist(t.props.todolistId)},t.activateEditMode=function(){t.setState({editMode:!0})},t.deactivateEditMode=function(){t.setState({editMode:!1}),t.props.updateTodolist(t.state.title)},t.onTitleChanged=function(e){t.setState({title:e.currentTarget.value})},t.render=function(){return o.a.createElement("div",{className:"todoList-header"},o.a.createElement("span",{className:"todoList-header-title"},t.state.editMode?o.a.createElement("input",{onBlur:t.deactivateEditMode,onChange:t.onTitleChanged,autoFocus:!0,defaultValue:t.props.title}):o.a.createElement("span",{onClick:t.activateEditMode},t.props.title)),o.a.createElement(p,{type:"primary",small:!0,onClick:t.onDelete,btnName:t.props.name}))},t}return n}(o.a.Component),k=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={error:!1,title:""},t.onAddItemClick=function(){var e=t.state.title;""===e.trim()?t.setState({error:!0}):(t.props.addItem(e),t.setState({error:!1,title:""}))},t.onTitleChanged=function(e){t.setState({error:!1,title:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t.render=function(){var e=t.state.error?"error":"";return o.a.createElement("div",{className:"item-form"},o.a.createElement("input",{type:"text",placeholder:t.props.placeholder,className:"".concat(e," + input-form"),onChange:t.onTitleChanged,onKeyPress:t.onKeyPress,value:t.state.title}),o.a.createElement(p,{type:"primary",small:!0,onClick:t.onAddItemClick,btnName:t.props.btnName}))},t}return n}(o.a.Component),b=n(7),v=n(14),g=n(26),C=n.n(g).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"0fdd1160-d444-4949-8fed-55c8b35e8906"}}),O=function(t){return C.post("",{title:t}).then((function(t){return t.data}))},E=function(t,e){return C.put("/".concat(e,"/"),{title:t}).then((function(t){return t.data}))},j=function(){return C.get("").then((function(t){return t.data}))},y=function(t){return C.get("/".concat(t,"/tasks")).then((function(t){return t.data}))},A=function(t){return C.delete("/".concat(t)).then((function(t){return t.data}))},I=function(t,e){return C.post("/".concat(e,"/tasks"),{title:t})},S=function(t,e,n){return C.put("/".concat(e,"/tasks/").concat(t),n)},L=function(t,e){return C.delete("/".concat(e,"/tasks/").concat(t))},w="TodoApp/TodoList/CREATE_TODOLIST",N="TodoApp/TodoList/ADD_TASK",D="TodoApp/TodoList/UPDATE_TASK",F="TodoApp/TodoList/DELETE_TODOLIST",M="TodoApp/TodoList/DELETE_TASK",P="TodoList/Reducer/SET_TODOLIST",H="TodoList/Reducer/SET_TASKS",_="TodoList/Reducer/LOADING",V={todolists:[],loading:!1},K=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case P:return Object(u.a)(Object(u.a)({},t),{},{todolists:e.todolists});case w:return Object(u.a)(Object(u.a)({},t),{},{todolists:[e.newTodolist].concat(Object(v.a)(t.todolists))});case"TodoList/Reducer/UPDATE_TITLE_TODOLIST":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(u.a)(Object(u.a)({},t),{},{title:e.title})}))});case H:return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todolistId?t:Object(u.a)(Object(u.a)({},t),{},{tasks:e.tasks})}))});case N:return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(u.a)(Object(u.a)({},t),{},{tasks:[].concat(Object(v.a)(t.tasks),[e.newTask])}):t}))});case D:return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(u.a)(Object(u.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:Object(u.a)(Object(u.a)({},t),e.obj)}))}):t}))});case F:return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});case M:return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id===e.todolistId?Object(u.a)(Object(u.a)({},t),{},{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case _:return Object(u.a)(Object(u.a)({},t),{},{loading:e.isActive})}return t},R=function(t){return{type:_,isActive:t}},x=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).state={filterValue:"All"},t.deleteTodolist=function(){t.props.deleteTodolistTC(t.props.id)},t.updateTodolist=function(e){t.props.updateTodolistTC(e,t.props.id)},t.addTask=function(e){t.props.addTaskTC(e,t.props.id)},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeTask=function(e,n){var a=t.props.tasks.find((function(t){return t.id===e}));if(a){var o=Object(u.a)(Object(u.a)({},a),n);t.props.updateTaskTC(e,t.props.id,o)}},t.changeStatus=function(e,n){t.changeTask(e,{status:n})},t.changeTitle=function(e,n){t.changeTask(e,{title:n})},t.changePriority=function(e,n){t.changeTask(e,{priority:n})},t.deleteTask=function(e){t.props.deleteTaskTC(e,t.props.id)},t.render=function(){var e=t.props.tasks,n=(void 0===e?[]:e).filter((function(e){switch(t.state.filterValue){case"Active":return 2!==e.status;case"Completed":return 2===e.status;default:return!0}}));return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"todoList"},o.a.createElement(h,{name:"Delete",title:t.props.title,todolistId:t.props.id,deleteTodolist:t.deleteTodolist,updateTodolist:t.updateTodolist}),o.a.createElement(k,{addItem:t.addTask,placeholder:"Create task",btnName:"Create"}),o.a.createElement(m,{changeStatus:t.changeStatus,changeTitle:t.changeTitle,changePriority:t.changePriority,tasks:n,deleteTask:t.deleteTask}),o.a.createElement(T,{filterValue:t.state.filterValue,changeFilter:t.changeFilter})))},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.props.setTaskTC(this.props.id)}}]),n}(o.a.Component),B=Object(b.b)(null,{setTaskTC:function(t){return function(e){y(t).then((function(n){e(function(t,e){return{type:H,tasks:t,todolistId:e}}(n.items,t))}))}},deleteTodolistTC:function(t){return function(e){A(t).then((function(n){e(function(t){return{type:F,todolistId:t}}(t))}))}},updateTodolistTC:function(t,e){return function(n){E(t,e).then((function(a){0===a.resultCode&&n(function(t,e){return{type:"TodoList/Reducer/UPDATE_TITLE_TODOLIST",title:t,todolistId:e}}(t,e))}))}},addTaskTC:function(t,e){return function(n){I(t,e).then((function(t){n(function(t,e){return{type:N,newTask:t,todolistId:e}}(t.data.data.item,e))}))}},updateTaskTC:function(t,e,n){return function(a){S(t,e,n).then((function(o){a(function(t,e,n){return{type:D,taskId:t,todolistId:e,obj:n}}(t,e,n))}))}},deleteTaskTC:function(t,e){return function(n){L(t,e).then((function(a){n(function(t,e){return{type:M,taskId:t,todolistId:e}}(t,e))}))}}})(x),U=function(t){Object(l.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(c.a)(this,n);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))).addTodoList=function(e){t.props.addTodolistTC(e)},t.restoreState=function(){t.props.setTodolistsTC()},t.render=function(){var e=t.props.todolists.map((function(t){return o.a.createElement(B,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",null,o.a.createElement(o.a.Fragment,null,o.a.createElement(k,{addItem:t.addTodoList,placeholder:"Create a new task list",btnName:"Create"})),o.a.createElement("div",{className:"App"},t.props.loading?o.a.createElement("span",null,"Loading..."):e))},t}return Object(s.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),W=Object(b.b)((function(t){return{todolists:t.todolist.todolists,loading:t.todolist.loading}}),{setTodolistsTC:function(){return function(t){t(R(!0)),j().then((function(e){t({type:P,todolists:e}),t(R(!1))}))}},addTodolistTC:function(t){return function(e){O(t).then((function(t){var n=t.data.item;e(function(t){return{type:w,newTodolist:t}}(n))}))}}})(U);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var J=n(6),G=n(27),Y=n(28),$=Object(J.combineReducers)({todolist:K}),q=Object(J.createStore)($,Object(Y.composeWithDevTools)(Object(J.applyMiddleware)(G.a)));i.a.render(o.a.createElement(b.a,{store:q},o.a.createElement(W,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,n){}},[[29,1,2]]]);
//# sourceMappingURL=main.f7f50ea8.chunk.js.map