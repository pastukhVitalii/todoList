{"version":3,"sources":["common/Button/Button.tsx","TodoListTasks/TodoListTask/TodoListTask.tsx","TodoListTasks/TodoListTasks.tsx","TodoListFooter/TodoListFooter.tsx","TodoListHeader/TodoListTitle.tsx","TodoListHeader/AddNewItemForm.tsx","api/api.ts","todolistReducer.ts","TodoList.tsx","App.tsx","serviceWorker.js","store.ts","index.js"],"names":["Button","props","small","className","type","onClick","btnName","TodoListTask","state","editMode","title","task","onIsDoneChanged","e","status","currentTarget","checked","changeStatus","id","onTitleChanged","setState","value","activateEditMode","deactivateEditMode","changeTitle","onDeleteTask","deleteTask","onPriorityChange","event","changePriority","render","containerCssClass","priority","onChange","onBlur","autoFocus","React","Component","TodoListTasks","tasksElements","tasks","map","key","length","TodoListFooter","isHidden","onAllFilterClick","changeFilter","onCompletedFilterClick","onActiveFilterClick","onShowFiltersClick","onHideFiltersClick","classForAll","filterValue","classForCompleted","classForActive","TodoListTitle","onDelete","deleteTodolist","todolistId","updateTodolist","defaultValue","name","AddNewItemForm","error","onAddItemClick","newText","trim","addItem","onKeyPress","classNameForInput","placeholder","instance","axios","create","baseURL","withCredentials","headers","api","post","then","res","data","put","get","delete","taskId","CREATE_TODOLIST","ADD_TASK","UPDATE_TASK","DELETE_TODOLIST","DELETE_TASK","SET_TODOLIST","SET_TASKS","LOADING","initialState","todolists","loading","todolistReducer","action","newTodolist","tl","newTask","t","obj","filter","isActive","loadingTodolistAC","TodoList","deleteTodolistTC","updateTodolistTC","addTask","addTaskTC","newFilterValue","changeTask","changedTask","find","updateTaskTC","deleteTaskTC","tasksFilter","this","setTaskTC","ConnectedTodoList","connect","dispatch","setTasksAC","items","deleteTodolistAC","resultCode","updateTodolistAC","addTaskAC","item","updateTaskAC","deleteTaskAC","App","addTodoList","addTodolistTC","restoreState","setTodolistsTC","todolist","ConnectedApp","addTodolistAC","Boolean","window","location","hostname","match","rootReducer","combineReducers","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.e2c1a02e.chunk.js","sourcesContent":["import React from 'react';\r\nimport './Button.css';\r\n\r\ntype OwnPropTypes = {\r\n    btnName: string\r\n    type: string\r\n    disable?: boolean\r\n    small?: boolean\r\n    active? : string\r\n    onClick: () => void\r\n}\r\nconst Button = (props: OwnPropTypes) => {\r\n    let small = props.small? 'small': '';\r\n    return (\r\n        <button className={`button + ${props.type} + ${small}`} onClick={props.onClick}> {props.btnName}</button>\r\n    )\r\n}\r\n\r\nexport default Button;\r\n","import React, {ChangeEvent} from \"react\";\r\nimport {TaskType} from \"../../types/entities\";\r\nimport Button from \"../../common/Button/Button\";\r\nimport '../../TodoList.css';\r\n\r\ntype StateType = {\r\n    editMode: boolean\r\n    title: string\r\n}\r\n\r\ntype OwnPropsType = {\r\n    changeStatus: (id: string, status: number) => void\r\n    changeTitle: (id: string, title: string) => void\r\n    changePriority: (id: string, priority: number) => void\r\n    deleteTask: (id: string) => void\r\n    task: TaskType\r\n}\r\n\r\nclass TodoListTask extends React.Component<OwnPropsType, StateType> {\r\n\r\n    state: StateType = {\r\n        editMode: false,\r\n        title: this.props.task.title\r\n    };\r\n\r\n    onIsDoneChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n        let status = e.currentTarget.checked ? 2 : 0;\r\n        this.props.changeStatus(this.props.task.id, status);\r\n    };\r\n\r\n    onTitleChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({title: e.currentTarget.value});\r\n    };\r\n\r\n    activateEditMode = (e: React.MouseEvent<HTMLElement>) => {\r\n        this.setState({editMode: true});\r\n    };\r\n\r\n    deactivateEditMode = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        this.props.changeTitle(this.props.task.id, this.state.title);\r\n        this.setState({editMode: false});\r\n    };\r\n\r\n    onDeleteTask = () => {\r\n        this.props.deleteTask(this.props.task.id);\r\n    };\r\n\r\n    onPriorityChange = (event: ChangeEvent<HTMLSelectElement>) => {\r\n        this.props.changePriority(this.props.task.id, +event.currentTarget.value)\r\n    };\r\n\r\n    render = () => {\r\n        let containerCssClass = this.props.task.status ? \" done\" : \"\";\r\n        let priotityTitle = \"\";\r\n        switch (this.props.task.priority) {\r\n            case 0:\r\n                priotityTitle = \"Low\";\r\n                break;\r\n            case 1:\r\n                priotityTitle = \"Middle\";\r\n                break;\r\n            case 2:\r\n                priotityTitle = \"High\";\r\n                break;\r\n            case 3:\r\n                priotityTitle = \"Urgently\";\r\n                break;\r\n            case 4:\r\n                priotityTitle = \"Later\";\r\n                break;\r\n        }\r\n        return (\r\n            <div className={'todoList-task'}>\r\n                <div className={containerCssClass}>\r\n                    <input className={'checkBox'} type=\"checkbox\"\r\n                           checked={this.props.task.status === 2}\r\n                           onChange={this.onIsDoneChanged}/>\r\n                    {this.state.editMode\r\n                        ? <input onBlur={this.deactivateEditMode}\r\n                                 onChange={this.onTitleChanged}\r\n                                 autoFocus={true}\r\n                                 value={this.state.title}/>\r\n                        : <span onClick={this.activateEditMode}>{this.props.task.title}</span>\r\n                    }, <b>priority:</b>\r\n                    <select className={'select'} value={this.props.task.priority} onChange={this.onPriorityChange}>\r\n                        <option value='2'>High</option>\r\n                        <option value='1'>Middle</option>\r\n                        <option value='0'>Low</option>\r\n                    </select>\r\n                </div>\r\n                <Button type={'delete'} onClick={this.onDeleteTask} btnName={'x'}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TodoListTask;","import React from \"react\";\r\nimport TodoListTask from \"./TodoListTask/TodoListTask\";\r\nimport {TaskType} from \"../types/entities\";\r\nimport '../TodoList.css'\r\n\r\ntype OwnPropsType = {\r\n    tasks: Array<TaskType>\r\n    changeStatus: (id: string, status: number) => void\r\n    changeTitle: (id: string, title: string) => void\r\n    changePriority: (id: string, priority: number) => void\r\n    deleteTask: (id: string) => void\r\n}\r\nclass TodoListTasks extends React.Component<OwnPropsType> {\r\n  render = () => {\r\n    let tasksElements = this.props.tasks.map(task => {\r\n      return (\r\n        <TodoListTask\r\n          task={task}\r\n          changeStatus={this.props.changeStatus}\r\n          changeTitle={this.props.changeTitle}\r\n          changePriority={this.props.changePriority}\r\n          key={task.id}\r\n          deleteTask={this.props.deleteTask}\r\n        />\r\n      )\r\n    });\r\n    return (\r\n      <div className=\"todoList-tasks\">\r\n          { this.props.tasks.length === 0? <div>Loading...</div>: tasksElements }\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default TodoListTasks;","import React from \"react\";\r\nimport '../TodoList.css';\r\nimport Button from \"../common/Button/Button\";\r\n\r\ntype StateType = {\r\n    isHidden: boolean\r\n}\r\n\r\ntype OwnPropsType = {\r\n    changeFilter: (newFilterValue: string) => void\r\n    filterValue: string\r\n}\r\n\r\nclass TodoListFooter extends React.Component<OwnPropsType, StateType> {\r\n    state: StateType = {\r\n        isHidden: false\r\n    }\r\n\r\n    onAllFilterClick = () => {\r\n        this.props.changeFilter('All')\r\n    }\r\n    onCompletedFilterClick = () => {\r\n        this.props.changeFilter('Completed')\r\n    }\r\n    onActiveFilterClick = () => {\r\n        this.props.changeFilter('Active')\r\n    }\r\n    onShowFiltersClick = (event: React.MouseEvent<HTMLSpanElement>) => {\r\n        this.setState({isHidden: true})\r\n    }\r\n    onHideFiltersClick = (event: React.MouseEvent<HTMLSpanElement>) => {\r\n        this.setState({isHidden: false})\r\n    }\r\n\r\n    render = () => {\r\n        let classForAll = this.props.filterValue === \"All\" ? \"filter-active\" : \"\";\r\n        let classForCompleted = this.props.filterValue === \"Completed\" ? \"filter-active\" : \"\";\r\n        let classForActive = this.props.filterValue === \"Active\" ? \"filter-active\" : \"\";\r\n        return (\r\n            <>\r\n                <div className={\"todoList-footer-btn\"}>\r\n                    {!this.state.isHidden && <>\r\n                        <Button type={`primary + ${classForAll}`} small={true} onClick={this.onAllFilterClick}\r\n                                btnName={'All'}/>\r\n                        <Button type={`primary + ${classForCompleted}`} small={true}\r\n                                onClick={this.onCompletedFilterClick}\r\n                                btnName={'Completed'}/>\r\n                        <Button type={`primary + ${classForActive}`} small={true} onClick={this.onActiveFilterClick}\r\n                                btnName={'Active'}/>\r\n                    </>}\r\n                </div>\r\n                <div className={'todoList-footer-filter'}>{!this.state.isHidden && <span onClick={this.onShowFiltersClick}>Hide filter </span>}\r\n                    {this.state.isHidden && <span onClick={this.onHideFiltersClick}>Show filter </span>}</div>\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TodoListFooter;\r\n/*\r\n\r\n` ${class1} ${this.isDone && class2}`\r\n  ` ${class1} text ${this.isDone && class2}`\r\n*/\r\n","import React, {ChangeEvent} from \"react\";\r\nimport '../TodoList.css'\r\nimport Button from \"../common/Button/Button\";\r\n\r\ntype StateType = {\r\n    editMode: boolean,\r\n    title: string\r\n}\r\n\r\ntype OwnPropsType = {\r\n    title: string\r\n    todolistId: string\r\n    deleteTodolist: (todolistId: string) => void\r\n    updateTodolist: (title: string) => void\r\n    name: string\r\n}\r\n\r\nclass TodoListTitle extends React.Component<OwnPropsType, StateType> {\r\n\r\n    state: StateType = {\r\n        editMode: false,\r\n        title: ''\r\n    }\r\n    onDelete = () => {\r\n        this.props.deleteTodolist(this.props.todolistId)\r\n    }\r\n    activateEditMode = () => {\r\n        this.setState({editMode: true});\r\n    }\r\n\r\n    deactivateEditMode = () => {\r\n        this.setState({editMode: false});\r\n        this.props.updateTodolist(this.state.title);\r\n    }\r\n\r\n    onTitleChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({title: e.currentTarget.value})\r\n    }\r\n\r\n    render = () => {\r\n        return (\r\n            <div className=\"todoList-header\">\r\n                <span className=\"todoList-header-title\">\r\n                    {this.state.editMode\r\n                        ? <input onBlur={this.deactivateEditMode} onChange={this.onTitleChanged} autoFocus={true}\r\n                                 defaultValue={this.props.title}/>\r\n                        : <span onClick={this.activateEditMode}>{this.props.title}</span>\r\n                    }\r\n                </span>\r\n                <Button type={'primary'} small={true} onClick={this.onDelete} btnName={this.props.name}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default TodoListTitle;","import React, {ChangeEvent, KeyboardEvent} from \"react\";\r\nimport '../TodoList.css'\r\nimport Button from \"../common/Button/Button\";\r\n\r\ntype OwnPropsType = {\r\n    addItem: (newText: string) => void,\r\n    placeholder: string,\r\n    btnName: string\r\n}\r\n\r\ntype StateType = {\r\n    error: boolean\r\n    title: string\r\n}\r\n\r\nclass AddNewItemForm extends React.Component<OwnPropsType, StateType> {\r\n    state: StateType = {\r\n        error: false,\r\n        title: ''\r\n    }\r\n\r\n    onAddItemClick = () => {\r\n        let newText = this.state.title;\r\n        if (newText.trim() === \"\") {\r\n            this.setState({error: true})\r\n        } else {\r\n            this.props.addItem(newText);\r\n            this.setState({\r\n                error: false,\r\n                title: ''\r\n            });\r\n        }\r\n    };\r\n    onTitleChanged = (e: ChangeEvent<HTMLInputElement>) => {\r\n        this.setState({\r\n            error: false,\r\n            title: e.currentTarget.value\r\n        })\r\n    }\r\n    onKeyPress = (e: KeyboardEvent<HTMLInputElement>) => {\r\n        if (e.key === 'Enter') {\r\n            this.onAddItemClick();\r\n        }\r\n    }\r\n\r\n    render = () => {\r\n        let classNameForInput = (this.state.error) ? 'error' : '';\r\n        return (\r\n            <div className=\"item-form\">\r\n                <input\r\n                    type=\"text\" placeholder={this.props.placeholder}\r\n                    className={`${classNameForInput} + input-form`}\r\n                    onChange={this.onTitleChanged}\r\n                    onKeyPress={this.onKeyPress}\r\n                    value={this.state.title}\r\n                />\r\n                <Button type={'primary'} small={true} onClick={this.onAddItemClick} btnName={this.props.btnName}/>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default AddNewItemForm;","import axios from \"axios\";\r\nimport {TaskType, TodoType} from \"../types/entities\";\r\n\r\nconst instance = axios.create({\r\n  baseURL: \"https://social-network.samuraijs.com/api/1.1/\",\r\n  withCredentials: true,\r\n  headers: {\"API-KEY\": \"0fdd1160-d444-4949-8fed-55c8b35e8906\"}\r\n})\r\n\r\n/*resultCode: 0\r\nmessages: [],\r\n    data: {\r\n    item:   {\r\n        \"id\": \"a2dfe62b-ebce-4b37-9581-1cc77ebc999f\",\r\n            \"title\": \"important\",\r\n            \"addedDate\": \"2019-07-30T12:23:49.677\",\r\n            \"order\": 0*/\r\n\r\ntype CommonApiType<T> = {\r\n    resultCode: 0| 1 | 100\r\n    messages: Array<string>\r\n    data: T\r\n}\r\n\r\n/*type CreateTodoType = {\r\n    resultCode: 0| 1 | 100\r\n    messages: Array<string>\r\n    data: {\r\n        item: TodoType\r\n    }\r\n}\r\n\r\ntype ResponseTaskType2 = {\r\n    resultCode: 0 | 1 | 100\r\n    messages: Array<string>\r\n    data: {\r\n        item: TaskType\r\n    }\r\n}\r\ntype ResponseTaskType3 = {\r\n    resultCode: 0 | 1 | 100\r\n    messages: Array<string>\r\n    data: {}\r\n}*/\r\n\r\nexport const api = {\r\n\r\n  createTodolist(title: string) {\r\n    // debugger;\r\n    return instance.post<CommonApiType<{item: TodoType}>>(\"\",{title: title})\r\n      .then(res => res.data);\r\n  },\r\n  updateTitleTodolist(title: string, todolistId: string) {\r\n    // debugger;\r\n    return instance.put(`/${todolistId}/`,{title: title})\r\n      .then(res => res.data);\r\n  },\r\n  getTodolist() {\r\n    return instance.get(\"\" )\r\n      .then(res => res.data)\r\n  },\r\n  getTasks(todolistId: string) {\r\n      // debugger\r\n    return instance.get(`/${todolistId}/tasks`)\r\n      .then(res => res.data)\r\n  },\r\n  deleteTodolist(todolistId: string) {\r\n    // debugger;\r\n    return instance.delete(`/${todolistId}`)\r\n      .then(res => res.data)\r\n  },\r\n  createTask(newText: string, todolistId: string) {\r\n    // debugger;\r\n    return instance.post<CommonApiType<{item: TaskType}>>(`/${todolistId}/tasks`,{title: newText});\r\n  },\r\n  updateTask(taskId: string, todolistId: string, task: TaskType) {\r\n    return instance.put<CommonApiType<{item: TaskType }>>(`/${todolistId}/tasks/${taskId}`, task);\r\n  },\r\n  deleteTask(taskId: string, todolistId: string) {\r\n    return instance.delete<CommonApiType<{ }>>(`/${todolistId}/tasks/${taskId}`);\r\n  }\r\n}","import {api} from \"./api/api\";\r\nimport {TaskType, TodoType, TodoUpdateObject} from \"./types/entities\";\r\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\r\nimport {AppStateType} from \"./store\";\r\n\r\nexport const CREATE_TODOLIST = 'TodoApp/TodoList/CREATE_TODOLIST';\r\nexport const ADD_TASK = 'TodoApp/TodoList/ADD_TASK';\r\nexport const UPDATE_TASK = 'TodoApp/TodoList/UPDATE_TASK';\r\nexport const DELETE_TODOLIST = 'TodoApp/TodoList/DELETE_TODOLIST';\r\nexport const DELETE_TASK = 'TodoApp/TodoList/DELETE_TASK';\r\nexport const SET_TODOLIST = \"TodoList/Reducer/SET_TODOLIST\";\r\nexport const SET_TODOLIST_ERROR = \"TodoList/Reducer/SET_TODOLIST_ERROR\";\r\nexport const SET_TASKS = \"TodoList/Reducer/SET_TASKS\";\r\nexport const UPDATE_TITLE_TODOLIST = \"TodoList/Reducer/UPDATE_TITLE_TODOLIST\";\r\nexport const LOADING = \"TodoList/Reducer/LOADING\";\r\nexport const LOADING_TASKS = \"TodoList/Reducer/LOADING_TASKS\";\r\n\r\ntype initialStateType = {\r\n    todolists: Array<TodoType>\r\n    loading: boolean,\r\n}\r\n\r\nconst initialState: initialStateType = {\r\n    todolists: [],\r\n    loading: false,\r\n}\r\nconst todolistReducer = (state: initialStateType = initialState, action: ActionsType): initialStateType => {\r\n    switch (action.type) {\r\n        case SET_TODOLIST:\r\n            return {\r\n                ...state,\r\n                todolists: action.todolists\r\n            }\r\n        case CREATE_TODOLIST:\r\n            return {...state, todolists: [action.newTodolist, ...state.todolists]};\r\n        case UPDATE_TITLE_TODOLIST:\r\n            return {\r\n                ...state,\r\n                todolists: state.todolists.map(tl => {\r\n                    if (tl.id !== action.todolistId) {\r\n                        return tl\r\n                    } else {\r\n                        return {\r\n                            ...tl,\r\n                            title: action.title\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        case SET_TASKS:\r\n            return {\r\n                ...state,\r\n                todolists: state.todolists.map(tl => {\r\n                    if (tl.id !== action.todolistId) return tl;\r\n                    else {\r\n                        return {\r\n                            ...tl,\r\n                            tasks: action.tasks\r\n                        }\r\n                    }\r\n                })\r\n            }\r\n        case ADD_TASK:\r\n            return {\r\n                ...state,\r\n                todolists: state.todolists.map(tl => {\r\n                    if (tl.id === action.todolistId) {\r\n                        return {...tl, tasks: [...tl.tasks, action.newTask]}\r\n                    } else {\r\n                        return tl\r\n                    }\r\n                })\r\n            }\r\n        case UPDATE_TASK:\r\n            return {\r\n                ...state,\r\n                todolists: state.todolists.map(tl => {\r\n                    if (tl.id === action.todolistId) {\r\n                        return {\r\n                            ...tl,\r\n                            tasks: tl.tasks.map(t => {\r\n                                if (t.id !== action.taskId) {\r\n                                    return t;\r\n                                } else {\r\n                                    return {...t, ...action.obj};\r\n                                }\r\n                            })\r\n                        }\r\n                    } else {\r\n                        return tl\r\n                    }\r\n                })\r\n            }\r\n        case DELETE_TODOLIST:\r\n            return {\r\n                ...state,\r\n                todolists: state.todolists.filter(tl => tl.id !== action.todolistId)\r\n            }\r\n        case DELETE_TASK:\r\n            return {\r\n                ...state,\r\n                todolists: state.todolists.map(tl => {\r\n                    if (tl.id === action.todolistId) {\r\n                        return {\r\n                            ...tl,\r\n                            tasks: tl.tasks.filter(t => t.id !== action.taskId)\r\n                        }\r\n                    } else {\r\n                        return tl\r\n                    }\r\n                })\r\n            }\r\n        case LOADING:\r\n            return {\r\n                ...state, loading: action.isActive\r\n            }\r\n        /*case SET_TODOLIST_ERROR:\r\n            return {\r\n                ...state, //error: 'error'\r\n            }*/\r\n    }\r\n    return state\r\n}\r\n\r\nexport default todolistReducer;\r\n\r\ntype ActionsType =\r\n    UpdateTaskSuccessActionType\r\n    | DeleteTodoSuccessActionType\r\n    | DeleteTaskSuccessActionType\r\n    | UpdateTodolistTitleSuccessActionType\r\n    | AddTaskSuccessActionType\r\n    | GetTasksSuccessActionType\r\n    | AddTodolistSuccessActionType\r\n    | GetTodolistsSuccessActionType\r\n    | LoadingTodolistActionType\r\n    | LoadingTasksActionType\r\n\r\n\r\ntype UpdateTaskSuccessActionType = {\r\n    type: typeof UPDATE_TASK\r\n    taskId: string\r\n    obj: TodoUpdateObject\r\n    todolistId: string\r\n}\r\ntype DeleteTodoSuccessActionType = {\r\n    type: typeof DELETE_TODOLIST\r\n    todolistId: string\r\n}\r\ntype DeleteTaskSuccessActionType = {\r\n    type: typeof DELETE_TASK\r\n    taskId: string\r\n    todolistId: string\r\n}\r\ntype UpdateTodolistTitleSuccessActionType = {\r\n    type: typeof UPDATE_TITLE_TODOLIST\r\n    todolistId: string\r\n    title: string\r\n}\r\ntype AddTaskSuccessActionType = {\r\n    type: typeof ADD_TASK\r\n    newTask: TaskType\r\n    todolistId: string\r\n}\r\ntype GetTasksSuccessActionType = {\r\n    type: typeof SET_TASKS\r\n    tasks: Array<TaskType>\r\n    todolistId: string\r\n}\r\ntype AddTodolistSuccessActionType = {\r\n    type: typeof CREATE_TODOLIST\r\n    newTodolist: TodoType\r\n}\r\ntype GetTodolistsSuccessActionType = {\r\n    type: typeof SET_TODOLIST\r\n    todolists: Array<TodoType>\r\n}\r\ntype LoadingTodolistActionType = {\r\n    type: typeof LOADING\r\n    isActive: boolean\r\n}\r\ntype LoadingTasksActionType = {\r\n    type: typeof LOADING_TASKS\r\n    isActive: boolean\r\n}\r\n\r\n// Action creator\r\n\r\nexport const addTodolistAC = (todolist: TodoType): AddTodolistSuccessActionType => {\r\n    return {type: CREATE_TODOLIST, newTodolist: todolist}\r\n}\r\nexport const updateTodolistAC = (title: string, todolistId: string): UpdateTodolistTitleSuccessActionType => {\r\n    return {type: UPDATE_TITLE_TODOLIST, title, todolistId}\r\n}\r\nexport const addTaskAC = (newTask: TaskType, todolistId: string): AddTaskSuccessActionType => {\r\n    return {type: ADD_TASK, newTask, todolistId};\r\n}\r\nexport const deleteTaskAC = (taskId: string, todolistId: string): DeleteTaskSuccessActionType => {\r\n    return {type: DELETE_TASK, taskId, todolistId};\r\n}\r\nexport const deleteTodolistAC = (todolistId: string): DeleteTodoSuccessActionType => {\r\n    return {type: DELETE_TODOLIST, todolistId}\r\n}\r\n/*export const setTodolistError = (todolists: Array<TodoType>) => {\r\n    return {type: SET_TODOLIST_ERROR}\r\n}*/\r\nexport const updateTaskAC = (taskId: string, todolistId: string, obj: TodoUpdateObject): UpdateTaskSuccessActionType => ({\r\n    type: UPDATE_TASK,\r\n    taskId,\r\n    todolistId,\r\n    obj\r\n});\r\n\r\nexport const loadingTodolistAC = (isActive: boolean): LoadingTodolistActionType => ({type: LOADING, isActive});\r\n\r\nexport const setTodolistAC = (todolists: Array<TodoType>): GetTodolistsSuccessActionType => {\r\n    return {type: SET_TODOLIST, todolists: todolists}\r\n}\r\n\r\nexport const setTasksAC = (tasks: Array<TaskType>, todolistId: string): GetTasksSuccessActionType => {\r\n    return {type: SET_TASKS, tasks, todolistId}\r\n}\r\n\r\n// THUNK\r\n\r\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>;\r\n\r\ntype ThunkDispatch1 = ThunkDispatch<AppStateType, unknown, ActionsType>;\r\n\r\nexport const setTaskTC = (todolistId: string): ThunkType => (dispatch: ThunkDispatch1) => {\r\n    api.getTasks(todolistId)\r\n        .then(res => {\r\n            dispatch(setTasksAC(res.items, todolistId));\r\n        });\r\n}\r\nexport const deleteTodolistTC = (todolistId: string) => (dispatch: ThunkDispatch1) => {\r\n    api.deleteTodolist(todolistId)\r\n        .then(res => {\r\n            dispatch(deleteTodolistAC(todolistId));\r\n        });\r\n}\r\nexport const updateTodolistTC = (title: string, todolistId: string) => (dispatch: ThunkDispatch1) => {\r\n    api.updateTitleTodolist(title, todolistId)\r\n        .then(res => {\r\n            if (res.resultCode === 0) {\r\n                dispatch(updateTodolistAC(title, todolistId))\r\n            }\r\n        })\r\n}\r\n\r\nexport const addTaskTC = (newText: string, todolistId: string) => (dispatch: ThunkDispatch1) => {\r\n    api.createTask(newText, todolistId)\r\n        .then(res => {\r\n            dispatch(addTaskAC(res.data.data.item, todolistId));\r\n        });\r\n}\r\n\r\nexport const updateTaskTC = (taskId: string, todolistId: string, task: TaskType) => (dispatch: ThunkDispatch1) => {\r\n    api.updateTask(taskId, todolistId, task)\r\n        .then(res => {\r\n            dispatch(updateTaskAC(taskId, todolistId, task));\r\n        });\r\n}\r\n\r\nexport const deleteTaskTC = (taskId: string, todolistId: string) => (dispatch: ThunkDispatch1) => {\r\n    api.deleteTask(taskId, todolistId)\r\n        .then(res => {\r\n            dispatch(deleteTaskAC(taskId, todolistId));\r\n        });\r\n}\r\n\r\nexport const setTodolistsTC = (): ThunkType => (dispatch: ThunkDispatch1) => {\r\n    dispatch(loadingTodolistAC(true))\r\n    api.getTodolist()\r\n        .then(res => {\r\n            dispatch(setTodolistAC(res));\r\n            dispatch(loadingTodolistAC(false));\r\n        })\r\n    /*.catch((error) => {\r\n        dispatch(setTodolistError())\r\n    })*/\r\n}\r\n\r\nexport const addTodolistTC = (title: string) => (dispatch: ThunkDispatch1) => {\r\n    api.createTodolist(title)\r\n        .then(res => {\r\n            let todolist = res.data.item;\r\n            dispatch(addTodolistAC(todolist));\r\n        });\r\n}\r\n","import React from 'react';\nimport './App.css';\n\nimport TodoListTasks from './TodoListTasks/TodoListTasks';\nimport TodoListFooter from './TodoListFooter/TodoListFooter';\nimport TodoListTitle from \"./TodoListHeader/TodoListTitle\";\nimport AddNewItemForm from \"./TodoListHeader/AddNewItemForm\";\nimport {connect} from \"react-redux\";\nimport {\n    addTaskTC,\n    deleteTaskTC,\n    deleteTodolistTC,\n    setTaskTC, updateTaskTC,\n    updateTodolistTC\n} from \"./todolistReducer\";\nimport {TaskType, TodoUpdateObject} from \"./types/entities\";\nimport {AppStateType} from \"./store\";\n\ntype StateType = {\n    filterValue: string\n}\n\ntype OwnPropsType = {\n    id: string\n    title: string\n    tasks: Array<TaskType>\n}\n\ntype MapDispatchPropsType = {\n    setTaskTC: (todolistId: string) => void\n    deleteTodolistTC: (todolistId: string) => void\n    updateTodolistTC: (title: string, todolistId: string) => void\n    addTaskTC: (newText: string, todolistId: string) => void\n    updateTaskTC: (taskId: string, todolistId: string, task: TaskType) => void\n    deleteTaskTC: (taskId: string, todolistId: string) => void\n}\n\nclass TodoList extends React.Component<OwnPropsType & MapDispatchPropsType, StateType> {\n\n    state: StateType = {\n        filterValue: \"All\"\n    };\n\n    componentDidMount() {\n        this.props.setTaskTC(this.props.id);\n    }\n\n    deleteTodolist = () => {\n        this.props.deleteTodolistTC(this.props.id);\n    };\n\n    updateTodolist = (title: string) => {\n        this.props.updateTodolistTC(title, this.props.id)\n    }\n\n    addTask = (newText: string) => {\n        this.props.addTaskTC(newText, this.props.id)\n    }\n\n    changeFilter = (newFilterValue: string) => {\n        this.setState({filterValue: newFilterValue});\n    };\n\n    changeTask = (taskId: string, obj: TodoUpdateObject) => {\n        let changedTask = this.props.tasks.find(task => {\n            return task.id === taskId\n        });\n\n        if (changedTask) {\n            let task = {...changedTask, ...obj};\n            this.props.updateTaskTC(taskId, this.props.id, task)\n        }\n    };\n\n    changeStatus = (task: string, status: number) => {\n        this.changeTask(task, {status});\n    }\n\n    changeTitle = (task: string, title: string) => {\n        this.changeTask(task, {title: title});\n    }\n\n    changePriority = (task: string, priority: number) => {\n        this.changeTask(task, {priority: priority})\n}\n\n    deleteTask = (taskId: string) => {\n        this.props.deleteTaskTC(taskId, this.props.id)\n    }\n\n    render = () => {\n        let {tasks = []} = this.props;\n        let tasksFilter = tasks.filter(t => {\n            switch (this.state.filterValue) {\n                case \"Active\":\n                    return t.status !== 2;\n                case \"Completed\":\n                    return t.status === 2;\n                default:\n                    return true;\n            }\n        });\n        return (\n            <div className=\"App\">\n                <div className=\"todoList\">\n                        <TodoListTitle name={'Delete'}\n                                       title={this.props.title}\n                                       todolistId={this.props.id}\n                                       deleteTodolist={this.deleteTodolist}\n                                       updateTodolist={this.updateTodolist}/>\n                        <AddNewItemForm addItem={this.addTask} placeholder={'Create task'} btnName={'Create'}/>\n                    <TodoListTasks\n                        changeStatus={this.changeStatus}\n                        changeTitle={this.changeTitle}\n                        changePriority={this.changePriority}\n                        tasks={tasksFilter}\n                        deleteTask={this.deleteTask}\n                    />\n                    <TodoListFooter filterValue={this.state.filterValue} changeFilter={this.changeFilter}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst ConnectedTodoList = connect<{}, MapDispatchPropsType, OwnPropsType, AppStateType>(null, {\n    setTaskTC,\n    deleteTodolistTC,\n    updateTodolistTC,\n    addTaskTC,\n    updateTaskTC,\n    deleteTaskTC\n})(TodoList);\n\nexport default ConnectedTodoList;\n\n\n","import React from 'react';\nimport './App.css';\nimport TodoList from \"./TodoList\";\nimport AddNewItemForm from \"./TodoListHeader/AddNewItemForm\";\nimport {connect} from \"react-redux\";\nimport {addTodolistTC, setTodolistsTC} from \"./todolistReducer\";\nimport {AppStateType} from \"./store\";\nimport {TodoType} from \"./types/entities\";\n\ntype MapStatePropsType = {\n    todolists: Array<TodoType>\n    loading: boolean\n}\n\ntype MapDispatchPropsType = {\n    setTodolistsTC: () => void;\n    addTodolistTC: (title: string) => void;\n}\n\ntype PropsType = MapStatePropsType & MapDispatchPropsType;\n\nclass App extends React.Component<PropsType> {\n\n    componentDidMount() {\n        this.restoreState();\n    };\n\n    addTodoList = (title: string) => {\n        this.props.addTodolistTC(title);\n    };\n\n    restoreState = () => {\n        this.props.setTodolistsTC();\n    }\n\n    render = () => {\n        const todolist = this.props.todolists.map(tl =>\n            <TodoList key={tl.id}\n                      id={tl.id}\n                      title={tl.title}\n                      tasks={tl.tasks}\n            />)\n        return (\n            <div>\n                <>\n                    <AddNewItemForm addItem={this.addTodoList} placeholder={'Create a new task list'}\n                                    btnName={'Create'}/>\n                </>\n                <div className=\"App\">\n                    {this.props.loading ? <span>Loading...</span> : todolist}\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType): MapStatePropsType => {\n    return {\n        todolists: state.todolist.todolists,\n        loading: state.todolist.loading\n    }\n}\n\nconst ConnectedApp = connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(mapStateToProps, {\n    setTodolistsTC,\n    addTodolistTC\n})(App);\nexport default ConnectedApp;\n\n\n\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import {applyMiddleware, combineReducers, createStore} from \"redux\";\r\nimport todolistReducer from \"./todolistReducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport {composeWithDevTools} from \"redux-devtools-extension\";\r\n\r\nlet rootReducer = combineReducers({\r\n    todolist: todolistReducer\r\n})\r\n\r\nexport type AppStateType = ReturnType<typeof rootReducer>\r\n\r\nconst store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)));\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {Provider} from \"react-redux\";\nimport store from \"./store\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}